#Connect to EC2 instance from ssh:
chmod 400 /path_to_key/my_key.pem (make sure your private key file is not publicly viewable)
ssh -i ~/.ssh/xiaoling-IAM-keypair.pem ubuntu@^C  (Added by Shri)
ssh -i ~/.ssh/xiaoling-IAM-keypair.pem ubuntu@ec2-52-24-207-226.us-west-2.compute.amazonaws.com

#Install Java
sudo apt update
sudo apt install openjdk-8-jdk
java -version

#Setting java Path
Many frameworks require you to have the JAVA_HOME variable set - this video shows you how to do it.
Examples: Flink, Spark.

ubuntu@ip-10-0-0-7:~$ export JAVA_HOME=/usr/lib/jvm/java-8-openjdk-amd64
ubuntu@ip-10-0-0-7:~$ echo $JAVA_HOME
/usr/lib/jvm/java-8-openjdk-amd64
ubuntu@ip-10-0-0-7:~$ export PATH=$PATH:$JAVA_HOME/bin
ubuntu@ip-10-0-0-7:~$ echo $PATH
/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin:/usr/lib/jvm/java-8-openjdk-amd64/bin

#Set up the passwordless ssh

#Install Flink, run the Flink UI, run the WordCount.jar
$ cd ~/Downloads        # Go to download directory
$ tar xzf flink-*.tgz   # Unpack the downloaded archive
$ cd flink-1.8.0
$ ./bin/start-cluster.sh  # Start Flink
$ ./bin/stop-cluster.sh

#Run the WordCount example to test the Flink
./bin/flink run ./examples/batch/WordCount.jar 
./bin/flink run ./examples/batch/WordCount.jar --input /path/to/some/text/data --output /path/to/result

#How to compile my own WordCount file (naive way, put the source file and necessary jar files (lib) in the same folder)
#I think I need to import the jar files into IntelliJ
javac -cp .:flink-dist_2.11-1.8.0.jar:log4j-1.2.17.jar:slf4j-log4j12-1.7.15.jar WordCount.java 
jar -cvf wordCount.jar *.class

1) Install Maven
sudo apt update
sudo apt install maven
mvn -version
2) Maven Dependencies
Scala API: To use the Scala API, replace the flink-java artifact id with flink-scala_2.11 and flink-streaming-java_2.11 with flink-streaming-scala_2.11.
<dependency>
  <groupId>org.apache.flink</groupId>
  <artifactId>flink-java</artifactId>
  <version>1.8.0</version>
</dependency>
<dependency>
  <groupId>org.apache.flink</groupId>
  <artifactId>flink-streaming-java_2.11</artifactId>
  <version>1.8.0</version>
</dependency>
<dependency>
  <groupId>org.apache.flink</groupId>
  <artifactId>flink-clients_2.11</artifactId>
  <version>1.8.0</version>
</dependency>

3) Build Flink from source
git clone https://github.com/apache/flink
mvn clean install -DskipTests
mvn clean install -DskipTests -Dfast




scala sbt
java maven pom to magage the dependencies.






